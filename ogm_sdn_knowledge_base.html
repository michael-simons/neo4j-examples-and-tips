<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.17">
<meta name="author" content="Michael Simons">
<title>OGM and SDN knowledge base</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
/*! Stylesheet for CodeRay to loosely match GitHub themes | MIT License */
pre.CodeRay{background:#f7f7f8}
.CodeRay .line-numbers{border-right:1px solid;opacity:.35;padding:0 .5em 0 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
.CodeRay span.line-numbers{display:inline-block;margin-right:.75em}
.CodeRay .line-numbers strong{color:#000}
table.CodeRay{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.CodeRay td{vertical-align:top;line-height:inherit}
table.CodeRay td.line-numbers{text-align:right}
table.CodeRay td.code{padding:0 0 0 .75em}
.CodeRay .debug{color:#fff!important;background:navy!important}
.CodeRay .annotation{color:#007}
.CodeRay .attribute-name{color:navy}
.CodeRay .attribute-value{color:#700}
.CodeRay .binary{color:#509}
.CodeRay .comment{color:#998;font-style:italic}
.CodeRay .char{color:#04d}
.CodeRay .char .content{color:#04d}
.CodeRay .char .delimiter{color:#039}
.CodeRay .class{color:#458;font-weight:bold}
.CodeRay .complex{color:#a08}
.CodeRay .constant,.CodeRay .predefined-constant{color:teal}
.CodeRay .color{color:#099}
.CodeRay .class-variable{color:#369}
.CodeRay .decorator{color:#b0b}
.CodeRay .definition{color:#099}
.CodeRay .delimiter{color:#000}
.CodeRay .doc{color:#970}
.CodeRay .doctype{color:#34b}
.CodeRay .doc-string{color:#d42}
.CodeRay .escape{color:#666}
.CodeRay .entity{color:#800}
.CodeRay .error{color:#808}
.CodeRay .exception{color:inherit}
.CodeRay .filename{color:#099}
.CodeRay .function{color:#900;font-weight:bold}
.CodeRay .global-variable{color:teal}
.CodeRay .hex{color:#058}
.CodeRay .integer,.CodeRay .float{color:#099}
.CodeRay .include{color:#555}
.CodeRay .inline{color:#000}
.CodeRay .inline .inline{background:#ccc}
.CodeRay .inline .inline .inline{background:#bbb}
.CodeRay .inline .inline-delimiter{color:#d14}
.CodeRay .inline-delimiter{color:#d14}
.CodeRay .important{color:#555;font-weight:bold}
.CodeRay .interpreted{color:#b2b}
.CodeRay .instance-variable{color:teal}
.CodeRay .label{color:#970}
.CodeRay .local-variable{color:#963}
.CodeRay .octal{color:#40e}
.CodeRay .predefined{color:#369}
.CodeRay .preprocessor{color:#579}
.CodeRay .pseudo-class{color:#555}
.CodeRay .directive{font-weight:bold}
.CodeRay .type{font-weight:bold}
.CodeRay .predefined-type{color:inherit}
.CodeRay .reserved,.CodeRay .keyword{color:#000;font-weight:bold}
.CodeRay .key{color:#808}
.CodeRay .key .delimiter{color:#606}
.CodeRay .key .char{color:#80f}
.CodeRay .value{color:#088}
.CodeRay .regexp .delimiter{color:#808}
.CodeRay .regexp .content{color:#808}
.CodeRay .regexp .modifier{color:#808}
.CodeRay .regexp .char{color:#d14}
.CodeRay .regexp .function{color:#404;font-weight:bold}
.CodeRay .string{color:#d20}
.CodeRay .string .string .string{background:#ffd0d0}
.CodeRay .string .content{color:#d14}
.CodeRay .string .char{color:#d14}
.CodeRay .string .delimiter{color:#d14}
.CodeRay .shell{color:#d14}
.CodeRay .shell .delimiter{color:#d14}
.CodeRay .symbol{color:#990073}
.CodeRay .symbol .content{color:#a60}
.CodeRay .symbol .delimiter{color:#630}
.CodeRay .tag{color:teal}
.CodeRay .tag-special{color:#d70}
.CodeRay .variable{color:#036}
.CodeRay .insert{background:#afa}
.CodeRay .delete{background:#faa}
.CodeRay .change{color:#aaf;background:#007}
.CodeRay .head{color:#f8f;background:#505}
.CodeRay .insert .insert{color:#080}
.CodeRay .delete .delete{color:#800}
.CodeRay .change .change{color:#66f}
.CodeRay .head .head{color:#f4f}
</style>
</head>
<body class="article">
<div id="header">
<h1>OGM and SDN knowledge base</h1>
<div class="details">
<span id="author" class="author">Michael Simons</span><br>
<span id="email" class="email"><a href="mailto:michael.simons@neo4j.com">michael.simons@neo4j.com</a></span><br>
<span id="revnumber">version unspecified</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_terminology">1. Terminology</a>
<ul class="sectlevel2">
<li><a href="#_neo4j_java_driver">1.1. Neo4j Java Driver</a></li>
<li><a href="#_neo4j_ogm">1.2. Neo4j-OGM</a></li>
<li><a href="#_spring_data_neo4j_vs_spring_data_neo4j️rx">1.3. Spring Data Neo4j vs. Spring Data Neo4j⚡️RX</a></li>
<li><a href="#_release_trains">1.4. Release trains</a></li>
</ul>
</li>
<li><a href="#_spring_boot_or_not_spring">2. Spring Boot or not Spring?</a></li>
<li><a href="#_version_management_in_spring_boot_applications">3. Version management in Spring Boot applications</a>
<ul class="sectlevel2">
<li><a href="#_maven">3.1. Maven</a></li>
<li><a href="#_gradle">3.2. Gradle</a></li>
</ul>
</li>
<li><a href="#_custom_programmatic_configuration_for_neo4j_ogm">4. Custom programmatic configuration for Neo4j-OGM?</a>
<ul class="sectlevel2">
<li><a href="#_things_you_can_configure_via_properties_and_annotations">4.1. Things you can configure via properties and annotations</a></li>
<li><a href="#_configuring_the_neo4j_java_driver">4.2. Configuring the Neo4j Java Driver</a></li>
<li><a href="#_specialized_neo4j_ogm_configuration">4.3. Specialized Neo4j-OGM configuration</a></li>
</ul>
</li>
<li><a href="#_using_exiting_properties">5. Using exiting properties</a></li>
<li><a href="#coordinates">6. Maven / Gradle coordinates</a>
<ul class="sectlevel2">
<li><a href="#_driver">6.1. Driver</a></li>
<li><a href="#_data_mapping_and_higher_level_abstractions">6.2. Data mapping and higher level abstractions</a></li>
</ul>
</li>
<li><a href="#_documentation">7. Documentation</a>
<ul class="sectlevel2">
<li><a href="#_driver_2">7.1. Driver</a></li>
<li><a href="#_data_mapping_and_higher_level_abstractions_2">7.2. Data mapping and higher level abstractions</a></li>
<li><a href="#_relevant_spring_documentation">7.3. Relevant Spring documentation</a></li>
</ul>
</li>
<li><a href="#_various_important_things">8. Various important things</a>
<ul class="sectlevel2">
<li><a href="#_causal_cluster_setup">8.1. Causal cluster setup</a></li>
<li><a href="#_routing_driver">8.2. Routing driver</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="quoteblock abstract">
<blockquote>
<div class="paragraph">
<p>This is a knowledge base like checklist meant to support in you in</p>
</div>
<div class="ulist">
<ul>
<li>
<p>finding out what parts of Neo4j-OGM or Spring Data (Neo4j) an existing application uses</p>
</li>
<li>
<p>finding out if and on which version of Spring Boot you are</p>
</li>
<li>
<p>knowing which properties are relevant for your configuration</p>
</li>
<li>
<p>judging if you need custom configuration classes for your deployment or not</p>
</li>
<li>
<p>finding the relevant documentation and versions</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If possible, things have been ordered roughly from lower level connectivity and data access to data mapping specific
or in other words, from very little abstraction to high abstraction.</p>
</div>
</blockquote>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Less is more! That applies to dependencies and to manual, programmatic configuration.
     Most scenarios are covered with a restricted set of dependencies and configurable
     with properties or one additional config bean.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_terminology"><a class="anchor" href="#_terminology"></a>1. Terminology</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A couple of classes have similar names which is confusing.
Therefore some of the relevant classes have been included below.</p>
</div>
<div class="paragraph">
<p>Classes named <code>Config</code> or <code>Configuration</code> are nearly everywhere.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.neo4j.driver.Config</code> is the pure Driver config</p>
</li>
<li>
<p><code>org.neo4j.ogm.config.Configuration</code> is Neo4j-OGM config</p>
</li>
<li>
<p><code>org.springframework.context.annotation.Configuration</code> is an annotation of the Spring Framework, annotating a class as a source of Beans and configuration.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_neo4j_java_driver"><a class="anchor" href="#_neo4j_java_driver"></a>1.1. Neo4j Java Driver</h3>
<div class="paragraph">
<p>The Neo4j Java Driver is a Java based implementation of Neo4j&#8217;s Bolt protocol and can be used throughout the Java ecosystem.
It can be used standalone, in different frameworks and from within different languages on the JVM.
It works with Groovy and Kotlin.
There are integrations with <a href="https://quarkus.io/guides/neo4j">Quarkus</a> and <a href="https://github.com/micronaut-projects/micronaut-neo4j">Micronaut</a>.</p>
</div>
<div class="paragraph">
<p>The following classes are part of the Neo4j Java Driver</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.neo4j.driver.Config</code></p>
</li>
<li>
<p><code>org.neo4j.driver.Driver</code></p>
</li>
<li>
<p><code>org.neo4j.driver.GraphDatabase</code></p>
</li>
<li>
<p><code>org.neo4j.driver.Record</code></p>
</li>
<li>
<p><code>org.neo4j.driver.Result</code></p>
</li>
<li>
<p><code>org.neo4j.driver.Session</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_neo4j_ogm"><a class="anchor" href="#_neo4j_ogm"></a>1.2. Neo4j-OGM</h3>
<div class="paragraph">
<p>Neo4j-OGM is a general purpose Object Graph Mapper for Neo4j.
Neo4j-OGM can be used in standalone applications and with other frameworks outside the Spring ecosystem.</p>
</div>
<div class="paragraph">
<p>Neo4j-OGM supports a couple of different transports to a Neo4j database.
It&#8217;s primary transport is the Bolt transport, but it can use the HTTP endpoint as well as an embedded database.
Read about <a href="https://michael-simons.github.io/neo4j-sdn-ogm-tips/what_are_the_building_blocks_of_sdn_and_ogm.html">the building blocks here</a>.</p>
</div>
<div class="paragraph">
<p>Neo4j-OGM has similar classes to the driver. Be aware they are only similar and have different semantics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.neo4j.ogm.annotation.GeneratedValue</code></p>
</li>
<li>
<p><code>org.neo4j.ogm.annotation.Id</code></p>
</li>
<li>
<p><code>org.neo4j.ogm.annotation.NodeEntity</code></p>
</li>
<li>
<p><code>org.neo4j.ogm.annotation.RelationshipEntity</code></p>
</li>
<li>
<p><code>org.neo4j.ogm.driver.Driver</code></p>
</li>
<li>
<p><code>org.neo4j.ogm.drivers.bolt.driver.BoltDriver</code></p>
</li>
<li>
<p><code>org.neo4j.ogm.drivers.embedded.driver.EmbeddedDriver</code></p>
</li>
<li>
<p><code>org.neo4j.ogm.drivers.http.driver.HttpDriver</code></p>
</li>
<li>
<p><code>org.neo4j.ogm.model.Result</code></p>
</li>
<li>
<p><code>org.neo4j.ogm.session.Session</code></p>
</li>
<li>
<p><code>org.neo4j.ogm.session.SessionFactory</code></p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Inside a Spring Boot application, both the Neo4j-OGM <code>SessionFactory</code> and <code>Session</code> are injectable (via <code>@Autowired</code> or constructor injection).
      The <code>Session</code> will be a proxy, participating in Spring transactions and reopened transparently for you.
      If you need access to the OGM session, this would be the preferred way.
      Opening one yourself via the <code>SessionFactory</code> is possible, but can lead to issues.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_spring_data_neo4j_vs_spring_data_neo4j️rx"><a class="anchor" href="#_spring_data_neo4j_vs_spring_data_neo4j️rx"></a>1.3. Spring Data Neo4j vs. Spring Data Neo4j⚡️RX</h3>
<div class="paragraph">
<p>Spring Data Neo4j (in short SDN) is the current, officially released Spring Data module for Neo4j.
It lives in VMware / Pivotal repositories but is maintained by Neo4j.
It is part of the Spring Data release train and you get it when you generate a project with Neo4j support on start.spring.io.
SDN is build on top of Neo4j-OGM.</p>
</div>
<div class="paragraph">
<p>Spring Data Neo4j⚡️RX (in short SDN/RX) is a new approach to OGM in the Spring Ecosystem.
It is currently in beta phase, but feature complete.
It will eventually replace SDN.
Object mapping is facilitated through Spring Data.
While SDN/RX has a different approach and opinion on mappings, it supports <strong>all</strong> Spring Data features,
like immutable entity-classes, reactive database access with Neo4j 4.0, query by example.</p>
</div>
<div class="paragraph">
<p>The modules must not be used together in one application.</p>
</div>
<div class="paragraph">
<p>SDN/RX brings it&#8217;s one set of annotations for marking entities:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.neo4j.springframework.data.core.schema.Node</code></p>
</li>
<li>
<p><code>org.neo4j.springframework.data.core.schema.GeneratedValue</code></p>
</li>
<li>
<p><code>org.neo4j.springframework.data.core.schema.Id</code></p>
</li>
<li>
<p><code>org.neo4j.springframework.data.core.schema.Property</code></p>
</li>
<li>
<p><code>org.neo4j.springframework.data.core.schema.Relationship</code></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_release_trains"><a class="anchor" href="#_release_trains"></a>1.4. Release trains</h3>
<div class="paragraph">
<p>All Spring data projects that are handled by the core Spring Data Team at VMware use so called "release trains".
These release trains are given names that sort alphabetically.
This is done to mitigate the fact that the modules that are part of a release train usually have different version numbers (Spring Data Neo4j is not the only Spring Data module).</p>
</div>
<div class="paragraph">
<p>Modules and projects handled by Neo4j don&#8217;t have that concept.
Neo4j-OGM, the Neo4j Java driver, SDN/RX and the starters have standard version numbers only.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_spring_boot_or_not_spring"><a class="anchor" href="#_spring_boot_or_not_spring"></a>2. Spring Boot or not Spring?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A project with a dependency to <code>org.springframework.boot:spring-boot-starter</code> and a single Java class similar to this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.springframework.boot.SpringApplication</span>;
<span class="keyword">import</span> <span class="include">org.springframework.boot.autoconfigure.SpringBootApplication</span>;

<span class="annotation">@SpringBootApplication</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">DemoApplication</span> {
  <span class="directive">public</span> <span class="directive">static</span> <span class="type">void</span> main(<span class="predefined-type">String</span><span class="type">[]</span> args) {
    SpringApplication.run(DemoApplication.class, args);
  }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>is a Spring Boot application.
The key indicator to look for is the presence of <code>@SpringBootApplication</code>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_version_management_in_spring_boot_applications"><a class="anchor" href="#_version_management_in_spring_boot_applications"></a>3. Version management in Spring Boot applications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of Spring Boots main features and advantages is that it does version management for you.
That is: You can declare most dependencies in your build file without a version.
That works through a mechanism called <a href="https://info.michael-simons.eu/2019/08/22/whats-a-bill-of-material-bom-file/">Bill of material</a>.
Please read the linked post.</p>
</div>
<div class="paragraph">
<p>To use a different version of a library than the one that is part of Spring, you don&#8217;t declare that library
as a dependency with a concrete version number.
First, have a look if it&#8217;s a managed library.
You find all managed dependencies here: <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-dependency-versions.html">Managed Dependency Coordinates</a>
and the corresponding property names under <a href="https://docs.spring.io/spring-boot/docs/2.3.0.M2/reference/html/appendix-dependency-versions.html#dependency-versions-properties">Version Properties</a>.</p>
</div>
<div class="paragraph">
<p>If you&#8217;re library is on that list, you can overwrite the version of it as follows:</p>
</div>
<div class="sect2">
<h3 id="_maven"><a class="anchor" href="#_maven"></a>3.1. Maven</h3>
<div class="paragraph">
<p>Define a Maven property with the relevant name, i.e.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="xml"><span class="tag">&lt;properties&gt;</span>
  <span class="tag">&lt;neo4j-ogm.version&gt;</span>3.2.9<span class="tag">&lt;/neo4j-ogm.version&gt;</span>
<span class="tag">&lt;/properties&gt;</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_gradle"><a class="anchor" href="#_gradle"></a>3.2. Gradle</h3>
<div class="paragraph">
<p>Add a <code>gradle.properties</code> to your build overwriting the properties in question:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="properties">neo4j-ogm.version = 3.2.9</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_custom_programmatic_configuration_for_neo4j_ogm"><a class="anchor" href="#_custom_programmatic_configuration_for_neo4j_ogm"></a>4. Custom programmatic configuration for Neo4j-OGM?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>With Spring Boot it is often possible to abstain from a lot of custom, programmatic configuration.
Instead you can rely on Spring Boot&#8217;s auto configuration mechanism
(find some <a href="https://speakerdeck.com/michaelsimons/its-a-kind-of-magic-custom-spring-boot-starter">slides</a> and talks about that <a href="https://www.youtube.com/watch?v=wSWA63rZfGo">here</a> and <a href="https://www.youtube.com/watch?v=uCE3x4-GQ0k">here</a>)</p>
</div>
<div class="paragraph">
<p>There are some rare cases where programmatic configuration is necessary.</p>
</div>
<div class="sect2">
<h3 id="_things_you_can_configure_via_properties_and_annotations"><a class="anchor" href="#_things_you_can_configure_via_properties_and_annotations"></a>4.1. Things you can configure via properties and annotations</h3>
<div class="ulist">
<ul>
<li>
<p>Database connection via
<code>spring.data.neo4j.uri</code>
It supports <code>bolt</code>, <code>bolt+routing</code>, <code>neo4j</code> for Bolt transport, <code>http</code> and <code>https</code> for Http transport and <code>file</code> for embedded if you must.</p>
</li>
<li>
<p><code>spring.data.neo4j.username</code> and <code>spring.data.neo4j.password</code> are complementary for the above <code>uri</code> property.</p>
</li>
<li>
<p><code>spring.data.neo4j.use-native-types</code> can be set to true with the necessary libraries on the classpath to use native date and spatial types without converters</p>
</li>
<li>
<p>The packages to look for entities can be configured via <code>@EntityScan</code>, see <a href="#entity-scan">Listing 1</a></p>
</li>
<li>
<p>The same applies for Neo4j repositories</p>
</li>
</ul>
</div>
<div id="entity-scan" class="listingblock">
<div class="title">Listing 1. Neo4jConfig.java configuring the package to scan for entities</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@EntityScan</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">your.domain.package</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="1"></i><b>(1)</b>
<span class="annotation">@EnableNeo4jRepositories</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">your.repository.pacakge</span><span class="delimiter">&quot;</span></span>) <i class="conum" data-value="2"></i><b>(2)</b>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Neo4jConfig</span> {
}</code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>One or more packages to scan for annoted entities (<code>@NodeEntity</code> and <code>@RelationshipEntity</code>)</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>One or more packages to scan for interfaces extending (<code>Neo4jRepository</code> or generic Spring Data repository interfaces)</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_the_neo4j_java_driver"><a class="anchor" href="#_configuring_the_neo4j_java_driver"></a>4.2. Configuring the Neo4j Java Driver</h3>
<div class="paragraph">
<p>In case you want to use only the Java Driver in your Spring Boot application or you only want to use the Bolt transport for your Neo4j-OGM application,
you can bring in the <a href="https://neo4j.github.io/neo4j-java-driver-spring-boot-starter/current/">Neo4j Spring Boot Starter</a>.
The only thing it does is to configure a Spring bean of type <code>org.neo4j.driver.Driver</code>.
That bean is automatically recognized by Neo4j-OGM <em>as long as you don&#8217;t put in other custom, programmatic Java configuration</em>.</p>
</div>
<div class="paragraph">
<p>The above starter gives you direct access to <strong>all</strong> configuration options that the Neo4j Java Driver others, via Spring Boots properties
(applicable from files, config server etc.). Here is the <a href="https://neo4j.github.io/neo4j-java-driver-spring-boot-starter/current/#configurationoptions">full reference</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Be aware that the configuration prefix needs to be <code>org.neo4j.driver</code> in this case! If you don&#8217;t provide <code>org.neo4j.driver.uri</code>,
      the additional starter will be inactive!
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_specialized_neo4j_ogm_configuration"><a class="anchor" href="#_specialized_neo4j_ogm_configuration"></a>4.3. Specialized Neo4j-OGM configuration</h3>
<div class="paragraph">
<p>If you need to configure Neo4j-OGM beyond the currently exposed properties inside Spring Boot, it is enough to provide a bean of type <code>org.neo4j.ogm.config.Configuration</code>.
With the latest versions of Spring Boot 2.1 and 2.2 it is not necessary anymore to add a Neo4j-OGM SessionFactory.
Your configuration would look similar like this:</p>
</div>
<div id="entity-custom-ogm-config" class="listingblock">
<div class="title">Listing 2. Neo4jConfig.java with custom OGM configuration</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">org.springframework.context.annotation.Bean</span>;
<span class="keyword">import</span> <span class="include">org.springframework.context.annotation.Configuration</span>;
<span class="keyword">import</span> <span class="include">org.springframework.data.neo4j.repository.config.EnableNeo4jRepositories</span>;

<span class="annotation">@Configuration</span>
<span class="annotation">@EnableNeo4jRepositories</span>(<span class="string"><span class="delimiter">&quot;</span><span class="content">your.repository.pacakge</span><span class="delimiter">&quot;</span></span>)
<span class="directive">public</span> <span class="type">class</span> <span class="class">Neo4jConfig</span> {

        <span class="annotation">@Bean</span>
        org.neo4j.ogm.config.Configuration neo4jOgmConfiguration() {
                <span class="keyword">return</span> <span class="keyword">new</span> org.neo4j.ogm.config.Configuration.Builder().credentials(<span class="string"><span class="delimiter">&quot;</span><span class="content">some user</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">somepassword</span><span class="delimiter">&quot;</span></span>)
                        .withBasePackages(<span class="string"><span class="delimiter">&quot;</span><span class="content">your.domain.package</span><span class="delimiter">&quot;</span></span>)
                        .strictQuerying()
                        .useNativeTypes()
                        .database(<span class="string"><span class="delimiter">&quot;</span><span class="content">myDatabase</span><span class="delimiter">&quot;</span></span>)
                        .uri(<span class="string"><span class="delimiter">&quot;</span><span class="content">neo4j://somehost</span><span class="delimiter">&quot;</span></span>)
                        .build();
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>You don&#8217;t usually need more.
The best choice however is to see if our additional Neo4j Spring Boot starter already solves your problem.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_exiting_properties"><a class="anchor" href="#_using_exiting_properties"></a>5. Using exiting properties</h2>
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
In most cases, there is no reason to use <code>@Value</code> from Spring Boot to map custom properties.
         You can always inject the following classes (depending on the starter you are using):
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>org.springframework.boot.autoconfigure.data.neo4j.Neo4jProperties</code> (For the current Spring Boot Neo4j integration)</p>
</li>
<li>
<p><code>org.neo4j.driver.springframework.boot.autoconfigure.Neo4jDriverProperties</code> (For the new Neo4j Spring Boot Start)</p>
<div class="literalblock">
<div class="content">
<pre>Those will automatically contain the configured properties, they don't need to be duplicated in your classes.
You can just build on top of them, as shown https://github.com/neo4j/neo4j-java-driver-spring-boot-starter/blob/4.0.0.1/examples/dedicated-routing-driver/src/main/java/org/neo4j/doc/driver/springframework/boot/dedicated_routing_driver/RoutingDriverConfiguration.java#L23-L27[here].</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="coordinates"><a class="anchor" href="#coordinates"></a>6. Maven / Gradle coordinates</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Those are the official Maven central coordinates, given in the form <code>groupId:artifactId</code> for a quick reference.</p>
</div>
<div class="sect2">
<h3 id="_driver"><a class="anchor" href="#_driver"></a>6.1. Driver</h3>
<div class="sect3">
<h4 id="neo4j-java-driver-coordinates"><a class="anchor" href="#neo4j-java-driver-coordinates"></a>6.1.1. Neo4j Java Driver</h4>
<div class="paragraph">
<p>For a Spring Boot application, always use: <code>org.neo4j.driver:neo4j-java-driver-spring-boot-starter</code>.
Use <code>org.neo4j.driver:neo4j-java-driver</code> only for Spring applications <em>not</em> based on Spring Boot.
Don&#8217;t add both.</p>
</div>
<div class="paragraph">
<p>The starter gives you IDE support in <code>application.properties</code> and <code>application.yml</code> for all configuration options.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_data_mapping_and_higher_level_abstractions"><a class="anchor" href="#_data_mapping_and_higher_level_abstractions"></a>6.2. Data mapping and higher level abstractions</h3>
<div class="sect3">
<h4 id="neo4j-ogm-coordinates"><a class="anchor" href="#neo4j-ogm-coordinates"></a>6.2.1. Neo4j-OGM</h4>
<div class="ulist">
<ul>
<li>
<p>The core module (You always need this): <code>org.neo4j:neo4j-ogm-core</code></p>
</li>
<li>
<p>One of the transport modules (You should have only <strong>one</strong> per dependency scope)</p>
<div class="ulist">
<ul>
<li>
<p>The Bolt implementation: <code>org.neo4j:neo4j-ogm-bolt-driver</code></p>
</li>
<li>
<p>The embedded implementation: <code>org.neo4j:neo4j-ogm-embedded-driver</code></p>
</li>
<li>
<p>The HTT implementation: <code>org.neo4j:neo4j-ogm-http-driver</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Optional (only supported for the Bolt and embedded implementation): Support for additional Neo4j native types</p>
<div class="ulist">
<ul>
<li>
<p>Native types for the Bolt implementation: <code>org.neo4j:neo4j-ogm-bolt-native-types</code></p>
</li>
<li>
<p>Native types for the embedded implementation: <code>org.neo4j:neo4j-ogm-embedded-native-types</code></p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_spring_data_neo4j"><a class="anchor" href="#_spring_data_neo4j"></a>6.2.2. Spring Data Neo4j</h4>
<div class="paragraph">
<p>For a Spring Boot application, always use: <code>org.springframework.boot:spring-boot-starter-data-neo4j</code>.
Use <code>org.springframework.data:spring-data-neo4j</code> only for Spring applications <em>not</em> based on Spring Boot.
Don&#8217;t add both.</p>
</div>
<div class="paragraph">
<p>In either way, you will get all the necessary, transitive dependencies.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For Spring Data Neo4j it is not necessary to add the core or bolt module of <a href="#neo4j-ogm-coordinates">Neo4j-OGM</a>.
      They are transitive dependencies.
      To be able to use the other transports, you have to configure the relevant dependencies.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can add <code>org.neo4j.driver:neo4j-java-driver-spring-boot-starter</code> to a Spring Boot based SDN application
and Neo4j-OGM and SDN will recognize the driver bean.
Please read more about it <a href="https://neo4j.github.io/neo4j-java-driver-spring-boot-starter/current/#neo4j-ogm-integration">here</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_sdnrx"><a class="anchor" href="#_sdnrx"></a>6.2.3. SDN/RX</h4>
<div class="paragraph">
<p>For a Spring Boot application, always use: <code>org.neo4j.springframework.data:spring-data-neo4j-rx-spring-boot-starter</code>.
Use <code>org.neo4j.springframework.data:spring-data-neo4j-rx</code> only for Spring applications <em>not</em> based on Spring Boot.</p>
</div>
<div class="paragraph">
<p>In either way, you will get all the necessary, transitive dependencies.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
For SDN/RX it is not necessary to add the <a href="#neo4j-java-driver-coordinates">Section 6.1.1</a>.
      You&#8217;ll receive the Starter for the Driver through the SDN/RX starter.
      You&#8217;ll receive the Driver through SDN/RX.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_documentation"><a class="anchor" href="#_documentation"></a>7. Documentation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Given the various modules, the documentation lives in a couple of places as well.</p>
</div>
<div class="paragraph">
<p>This checklist is part of repository containing a bunch of useful other information.
Please find it here:
<a href="https://github.com/michael-simons/neo4j-sdn-ogm-tips" class="bare">https://github.com/michael-simons/neo4j-sdn-ogm-tips</a></p>
</div>
<div class="sect2">
<h3 id="_driver_2"><a class="anchor" href="#_driver_2"></a>7.1. Driver</h3>
<div class="sect3">
<h4 id="_neo4j_java_driver_2"><a class="anchor" href="#_neo4j_java_driver_2"></a>7.1.1. Neo4j Java Driver</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://neo4j.com/docs/driver-manual/current/">The Neo4j Drivers Manual v4.0 (Reference)</a></p>
</li>
<li>
<p><a href="https://neo4j.com/docs/api/java-driver/current">Java API docs</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_neo4j_spring_boot_starter"><a class="anchor" href="#_neo4j_spring_boot_starter"></a>7.1.2. Neo4j Spring Boot Starter</h4>
<div class="ulist">
<ul>
<li>
<p><a href="http://neo4j.github.io/neo4j-java-driver-spring-boot-starter/current/">Neo4j Spring Boot Starter</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_data_mapping_and_higher_level_abstractions_2"><a class="anchor" href="#_data_mapping_and_higher_level_abstractions_2"></a>7.2. Data mapping and higher level abstractions</h3>
<div class="sect3">
<h4 id="_neo4j_ogm_2"><a class="anchor" href="#_neo4j_ogm_2"></a>7.2.1. Neo4j-OGM</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://neo4j.com/docs/ogm-manual/current/">Neo4j-OGM - An Object Graph Mapping Library for Neo4j (Reference)</a></p>
</li>
<li>
<p><a href="https://github.com/neo4j/neo4j-ogm/wiki/Versions">Neo4j-OGM version compatibility matrix</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_spring_data_neo4j_2"><a class="anchor" href="#_spring_data_neo4j_2"></a>7.2.2. Spring Data Neo4j</h4>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.spring.io/spring-data/data-neo4j/docs/current/reference/html/">Spring Data Neo4j Reference Documentation</a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring-data/neo4j/docs/current/api/">Java API docs</a></p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_sdnrx_2"><a class="anchor" href="#_sdnrx_2"></a>7.2.3. SDN/RX</h4>
<div class="ulist">
<ul>
<li>
<p><a href="http://neo4j.github.io/sdn-rx/current/">Spring Data Neo4j⚡️RX</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_relevant_spring_documentation"><a class="anchor" href="#_relevant_spring_documentation"></a>7.3. Relevant Spring documentation</h3>
<div class="ulist">
<ul>
<li>
<p><a href="https://docs.spring.io/spring-boot/docs/current/reference/html/">Spring Boot Reference Documentation</a></p>
</li>
<li>
<p><a href="https://docs.spring.io/spring/docs/current/spring-framework-reference/">Spring Framework Reference Documentation</a></p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_various_important_things"><a class="anchor" href="#_various_important_things"></a>8. Various important things</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_causal_cluster_setup"><a class="anchor" href="#_causal_cluster_setup"></a>8.1. Causal cluster setup</h3>
<div class="paragraph">
<p>Please read <a href="https://info.michael-simons.eu/2020/02/03/spring-data-neo4j-neo4j-ogm-and-osiv/">Spring Data Neo4j, Neo4j-OGM and Open Session in View (OSIV)</a>.
If you are on Spring Boot before Spring Boot 2.3, you have to turn off the Open-Session-In-View-Filter, otherwise all queries will go to the leader.</p>
</div>
<div class="paragraph">
<p>You can do this via a configuration property: <code>spring.data.neo4j.open-in-view=false</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_routing_driver"><a class="anchor" href="#_routing_driver"></a>8.2. Routing driver</h3>
<div class="paragraph">
<p>There are a couple of ways to configure a driver to use routing.
The canonical way is to use <code>bolt+routing://</code> or <code>neo4j://</code> from Neo4j 4.0 on upwards with a single entry URL into the cluster.
The driver manual is very clear on that: <a href="https://neo4j.com/docs/driver-manual/current/client-applications/#driver-connection-uris">Connection URIs</a>.</p>
</div>
<div class="paragraph">
<p>You can configure multiple URIs through a custom Neo4j-OGM configuration as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="annotation">@Bean</span>
org.neo4j.ogm.config.Configuration neo4jOgmConfiguration() {
        <span class="keyword">return</span> <span class="keyword">new</span> org.neo4j.ogm.config.Configuration.Builder()
                .credentials(<span class="string"><span class="delimiter">&quot;</span><span class="content">some user</span><span class="delimiter">&quot;</span></span>, <span class="string"><span class="delimiter">&quot;</span><span class="content">somepassword</span><span class="delimiter">&quot;</span></span>)
                .uris(
                        <span class="string"><span class="delimiter">&quot;</span><span class="content">bolt+routing://server1</span><span class="delimiter">&quot;</span></span>,
                        <span class="string"><span class="delimiter">&quot;</span><span class="content">bolt+routing://server2</span><span class="delimiter">&quot;</span></span>,
                        <span class="string"><span class="delimiter">&quot;</span><span class="content">bolt+routing://server3</span><span class="delimiter">&quot;</span></span>)
                .build();
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>or use a setup as shown in our example here: <a href="https://github.com/neo4j/neo4j-java-driver-spring-boot-starter/blob/4.0.0.1/examples/dedicated-routing-driver/src/main/java/org/neo4j/doc/driver/springframework/boot/dedicated_routing_driver/RoutingDriverConfiguration.java"><code>RoutingDriverConfiguration</code></a>.</p>
</div>
<div class="paragraph">
<p>The idea is to define only one single property containing multiple URIs and build your driver instance with that.</p>
</div>
<div class="paragraph">
<p>A better solution however is the usage of a custom <a href="https://neo4j.com/docs/driver-manual/current/client-applications/#driver-resolver-function">resolver function</a>.</p>
</div>
<div class="paragraph">
<p>Given some arbitrary <code>org.neo4j.driver.net.ServerAddressResolver</code> like this:</p>
</div>
<div class="listingblock">
<div class="title">Listing 3. Arbitrary server address resolver</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java">ServerAddressResolver serverAddressResolver = address -&gt; {
        <span class="keyword">if</span> (<span class="string"><span class="delimiter">&quot;</span><span class="content">datacenter1</span><span class="delimiter">&quot;</span></span>.equals(address.host())) {
                <span class="keyword">return</span> <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;(
                        <span class="predefined-type">Arrays</span>.asList(ServerAddress.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">dc1-core1</span><span class="delimiter">&quot;</span></span>, <span class="integer">7687</span>), ServerAddress.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">dc1-core2</span><span class="delimiter">&quot;</span></span>, <span class="integer">7687</span>)));
        } <span class="keyword">else</span> {
                <span class="keyword">return</span> <span class="keyword">new</span> <span class="predefined-type">HashSet</span>&lt;&gt;(<span class="predefined-type">Arrays</span>.asList(ServerAddress.of(<span class="string"><span class="delimiter">&quot;</span><span class="content">other-core</span><span class="delimiter">&quot;</span></span>, <span class="integer">7687</span>)));
        }
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>Here&#8217;s how to use it with OGM+SDN only:</p>
</div>
<div class="listingblock">
<div class="title">Listing 4. Use with OGM/SDN</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.util.Arrays</span>;
<span class="keyword">import</span> <span class="include">java.util.HashSet</span>;

<span class="keyword">import</span> <span class="include">org.neo4j.driver.AuthTokens</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.driver.Config</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.driver.Driver</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.driver.GraphDatabase</span>;
<span class="keyword">import</span> <span class="include">org.springframework.boot.autoconfigure.data.neo4j.Neo4jProperties</span>;
<span class="keyword">import</span> <span class="include">org.springframework.context.annotation.Bean</span>;
<span class="keyword">import</span> <span class="include">org.springframework.context.annotation.Configuration</span>;

<span class="annotation">@Configuration</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">Neo4jConfig</span> {


        <span class="annotation">@Bean</span>
        <span class="directive">public</span> <span class="predefined-type">Driver</span> neo4jDriver(Neo4jProperties springDataNeo4jProperties) {

                Config config = Config.builder()
                        .withResolver(serverAddressResolver).build();

                <span class="keyword">return</span> GraphDatabase.driver(springDataNeo4jProperties.getUri(),
                        AuthTokens.basic(springDataNeo4jProperties.getUsername(), springDataNeo4jProperties.getPassword()), config);
        }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or use with the Neo4j Spring Boot starter (mind the slightly different import).</p>
</div>
<div class="listingblock">
<div class="title">Listing 5. Use with Neo4j Spring Boot Starter</div>
<div class="content">
<pre class="CodeRay highlight"><code data-lang="java"><span class="keyword">import</span> <span class="include">java.util.Arrays</span>;
<span class="keyword">import</span> <span class="include">java.util.HashSet</span>;

<span class="keyword">import</span> <span class="include">org.neo4j.driver.AuthToken</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.driver.Config</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.driver.Driver</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.driver.GraphDatabase</span>;
<span class="keyword">import</span> <span class="include">org.neo4j.driver.springframework.boot.autoconfigure.Neo4jDriverProperties</span>;
<span class="keyword">import</span> <span class="include">org.springframework.context.annotation.Bean</span>;
<span class="keyword">import</span> <span class="include">org.springframework.context.annotation.Configuration</span>;
<span class="keyword">import</span> <span class="include">org.springframework.context.annotation.Profile</span>;

<span class="annotation">@Configuration</span>
<span class="directive">public</span> <span class="type">class</span> <span class="class">DriverWithCustomResolverFunctionConfiguration</span> {

        <span class="annotation">@Bean</span>
        <span class="directive">public</span> <span class="predefined-type">Driver</span> neo4jDriver(Neo4jDriverProperties neo4jDriverProperties) {

                Config config = Config.builder()
                        .withResolver(serverAddressResolver).build();
                AuthToken authToken = neo4jDriverProperties.getAuthToken();

                <span class="keyword">return</span> GraphDatabase.driver(neo4jDriverProperties.getUri(), authToken, config);
        }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version unspecified<br>
Last updated 2022-02-28 15:30:19 UTC
</div>
</div>
</body>
</html>